---
layout: post
title: ì„¸ì°¨ìƒˆì°¨ ë¹„ì¦ˆì½œ ì„œë¹„ìŠ¤ ê°œë°œ (1) -RabbitMQ ì ìš©
author: íŒœ
categories: ì„¸ì°¨ìƒˆì°¨
tags: Spring Backend ì„¸ì°¨ìƒˆì°¨ aws
sidebar:
---

## ê°œìš”

ì„¸ì°¨ìƒˆì°¨ ì„œë¹„ìŠ¤ì˜ ë¹„ì¦ˆì½œ ì„œë¹„ìŠ¤ ê°œë°œì„ ë‹´ë‹¹í•˜ê²Œ ëë‹¤. ë¹„ì¦ˆì½œì€ í¬ê²Œ WebSocketê³¼ RabbitMqë¡œ ê¸°ëŠ¥ì´ ë‚˜ë‰˜ì–´ì§€ëŠ”ë°, ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ê·¸ ì¤‘ RabbitMqì— ëŒ€í•´ ì„¤ëª…í•˜ë ¤í•œë‹¤.

## ë¹„ì¦ˆì½œ

![ë¹„ì¦ˆì½œ](https://github.com/lcqff/lcqff.github.io/assets/71930280/531b6c01-ff06-4490-a197-a3583627d6f2)

ì„¸ì°¨ìƒˆì°¨ëŠ” ë¹„ì¦ˆì½œì„ ë„ì…í•˜ì—¬ ì „ë³´ë‹¤ ë” ê°„í¸í•œ ì˜ˆì•½ì„ ì‹œìŠ¤í…œì„ ì œê³µí•˜ë ¤ í•œë‹¤. ë¹„ì¦ˆì½œì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨, ì„¸ì°¨ì¥ì€ ê´€ë¦¬ì¸ì˜ ê°œì¸ ë²ˆí˜¸ê°€ ë…¸ì¶œë¨ì„ ë§‰ì„ ìˆ˜ ìˆìœ¼ë©° ê³ ê°ì˜ ì „í™”ì™€ ë™ì‹œì— ì„¸ì°¨ì¥ì˜ íŒ¨ë“œì— ì˜ˆì•½ ì •ë³´ ì…ë ¥ íŒì—…ì„ ë„ì›Œ ì„¸ì°¨ì¥ ì˜ˆì•½ ê´€ë¦¬ì— í¸ì˜ì„±ì„ ë”í•´ì¤„ ìˆ˜ ìˆë‹¤. 

<br>

*ë¹„ì¦ˆì½œ ë„ì…ì˜ ì´ì *
- *ê°œì¸ ë²ˆí˜¸ ë¹„ê³µê°œ*
- *ì˜ˆì•½ ì „í™”ì™€ ë™ì‹œì— íŒì—…ì„ ë„ì–´ ì˜ˆì•½ ì •ë³´ ì…ë ¥ì— í¸ì˜ì„±ì„ ë”í•¨.* 

<br>

<div class="callout">
  <div>ğŸ’¡</div>
  <div>
    <strong>CDR(Call Detail Record)</strong><br/>
    ìœ ë¬´ì„  ì „í™” í†µí™”ì— ëŒ€í•œ ë¡œê·¸ ë°ì´í„°
  </div>
</div>

ë¹„ì¦ˆì½œì—ì„œ ì œê³µí•˜ëŠ” CDR íŒŒë¼ë¯¸í„°ì—ëŠ” ì•„ë˜ì™€ ê°™ì€ ë°ì´í„°ê°€ ìˆë‹¤.

| seq | CDRì„ êµ¬ë¶„ì§“ëŠ” ë²ˆí˜¸ |
| sdt | Start Date: í˜¸ ì‹œì‘ ì‹œê°, YYYYMMDDHH24MISS |
| edt | End Date: í˜¸ ì¢…ë£Œ ì‹œê°, YYYYMMDDHH24MISS |
| fromn | From Number: ë°œì‹ ë²ˆí˜¸ |
| ton | To Number: ì°©ì‹ ë²ˆí˜¸ |
| ë“±ë“±.. |  |

---



![ì¸í”„ë¼ êµ¬ì„±](https://github.com/lcqff/lcqff.github.io/assets/71930280/a2a1834b-7b5b-48df-9c91-31cdacf608e8)

ìœ„ ê¸°ëŠ¥ì˜ ì„œë²„ ë¶€ë¶„ì„ ì¡°ê¸ˆ ë” ìì„¸íˆ ì‚´í´ë³´ì.

<div class="callout">
  <div>ğŸ’¡</div>
  <div>
    <strong>ALB(Application Load Balancer)</strong><br/>
    ì—¬ëŸ¬ ëŒ€ì˜ ì„œë²„ ì‚¬ì´ì— íŠ¸ë˜í”½ì„ ë¶„ì‚°ì‹œí‚¤ëŠ” ê¸°ìˆ 
  </div>
</div>

ê³ ê°ì´ ë¹„ì¦ˆì½œì— ì „í™”ë¥¼ í•˜ë©´ ê³ ê° ì „í™” ì •ë³´ë¥¼ ë‹´ì€ CDR ë°ì´í„°ê°€ ì„œë²„ì— ì €ì¥ëœë‹¤. ì´ë•Œ, ***Application load balancer***ë¥¼ í†µí•´ ê³ ê° ì •ë³´ëŠ” ì—¬ëŸ¬ëŒ€ì˜ ì¸ìŠ¤í„´ìŠ¤ ì¤‘ ê°€ì¥ íŠ¸ë˜í”½ì´ ì ì€ ì¸ìŠ¤í„´ìŠ¤ì— ì €ì¥ë˜ê²Œ ëœë‹¤.

ì¦‰, ìš°ë¦¬ëŠ” <red>ê³ ê°ì˜ ì •ë³´ê°€ ì–´ë–¤ ì¸ìŠ¤í„´ìŠ¤ì— ì €ì¥ë˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ë‹¤.</red>

### RabbitMQì˜ í•„ìš”ì„±

![ì¸í”„ë¼ êµ¬ì„±2](https://github.com/lcqff/lcqff.github.io/assets/71930280/cc3d2127-09a5-4bde-a3de-543434cad724)

ì¸ìŠ¤í„´ìŠ¤ì™€ í´ë¼ì´ì–¸íŠ¸(ë§¤ì¥ì˜ íŒ¨ë“œ)ì€ ì„œë¡œ **webSocketì„ í†µí•´ ì—°ê²°**ë¼ìˆë‹¤. ê³ ê°ì´ ë¹„ì¦ˆì½œì„ í†µí•´ ì „í™”ë¥¼ í•˜ë©´ ê·¸ì— ë”°ë¥¸ CDR ì •ë³´ê°€ ì¸ìŠ¤í„´ìŠ¤ì— ì €ì¥ë˜ê³ , ì´ CDR ì •ë³´ê°€ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ì™€ ì—°ê²°ë¼ìˆëŠ” ë§¤ì¥ê³¼ ë™ì¼í•˜ë‹¤ë©´ webSocket ì—°ê²°ì„ í†µí•´ ì‹¤ì‹œê°„ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì— íŒì—…ì„ ë„ìš¸ ìˆ˜ ìˆë‹¤.

ê·¸ëŸ¬ë‚˜ ë¬¸ì œëŠ” ë¹„ì¦ˆì½œì„ í†µí•œ ê³ ê° ì •ë³´ê°€ ì–´ë–¤ ì¸ìŠ¤í„´ìŠ¤ì— ì €ì¥ë ì§€ ì•Œ ìˆ˜ ì—†ë‹¤ëŠ” ì ì´ë‹¤. ê³ ê°ì´ ë§¤ì¥ Aì— ì „í™”í–ˆë‹¤ëŠ” CDR ì •ë³´ê°€ ì¸ìŠ¤í„´ìŠ¤ 1ì— ë‹´ê¸°ë”ë¼ë„ ì¸ìŠ¤í„´ìŠ¤ 1ì´ ë§¤ì¥Aì™€ webSocket ì—°ê²°ë¼ìˆì§€ ì•Šë‹¤ë©´ ë§¤ì¥ Aë¡œ íŒì—… ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ì—†ë‹¤.

ë”°ë¼ì„œ ìš°ë¦¬ëŠ” ìƒˆë¡œ ì €ì¥ëœ **ê³ ê°ì˜ CDR ì •ë³´ë¥¼ ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ì— ê³µìœ í•´ì¤„ í•„ìš”ê°€ ìˆë‹¤.**

## RabbitMQ

<div class="callout">
  <div>ğŸ’¡</div>
  <div>
    <strong>Amazon MQ</strong>: ì˜¤í”ˆ ì†ŒìŠ¤ ë©”ì‹œì§• ë¸Œë¡œì»¤ë¥¼ í˜¸ìŠ¤íŒ…í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê´€ë¦¬í˜• ë©”ì„¸ì§• ì„œë¹„ìŠ¤. AWSì—ì„œ ì œê³µ <br>
    <strong>RabbitMQ</strong>: ì†¡ì‹ ìì™€ ìˆ˜ì‹ ì ê°„ì— ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ëŠ” ì¤‘ê°„ ë§¤ê°œì²´ë¡œ ì‘ë™í•˜ëŠ” ë©”ì„¸ì§€ ë¸Œë¡œì»¤ ì†Œí”„íŠ¸ì›¨ì–´. AMQPì„ ì§€ì›í•œë‹¤. <br>
  </div>
</div>

ì„œë²„ì— CDR ë°ì´í„°ê°€ ìƒˆë¡œ ì €ì¥ëì„ ë•Œ, ì´ë¥¼ **RabbitMQë¥¼ í†µí•´ ì „ì²´ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë©”ì„¸ì§•**í•˜ê¸°ë¡œ í•œë‹¤.

### AMQP
<div class="callout">
  <div>ğŸ’¡</div>
  <div>
    <strong>AMQP(Advanced Message Queuing Protocol)</strong><br/>
    ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ë©”ì‹œì§€ ì „ë‹¬, í ê´€ë¦¬, ë¼ìš°íŒ… ë“±ì„ ìœ„í•œ ê¸°ëŠ¥ì„ ì •ì˜í•˜ëŠ” ë©”ì‹œì§• ì‹œìŠ¤í…œì˜ í‘œì¤€ í†µì‹  í”„ë¡œí† ì½œ
  </div>
</div>


![ë ˆë¹—ì— í1](https://github.com/lcqff/lcqff.github.io/assets/71930280/ea09f168-0ad9-4bcb-9ff2-8e5ef600681c)


ë©”ì„¸ì§•ì€ ë©”ì„¸ì§€ë¥¼ ë³´ë‚´ëŠ” ì£¼ì²´ì¸ Producerê°€ ë©”ì„¸ì§€ë¥¼ ë°›ëŠ” ëŒ€ìƒì¸ Consumerê¹Œì§€ ë©”ì„¸ì§€ë¥¼ ì „ë‹¬í•˜ëŠ” ê³¼ì •ì´ë‹¤.

ì´ ê³¼ì •ì—ì„œ Producerê°€ ì „ë‹¬í•œ ë©”ì„¸ì§€ëŠ” Exchangerê°€ ê°€ì§„ íƒ€ì…ì— ë”°ë¼ íŠ¹ì • Queueì— ì €ì¥ë˜ê²Œ ëœë‹¤.

QueueëŠ” í•˜ë‚˜ì˜ Consumerë§Œì„ ê°€ì§ˆ ìˆ˜ë„ ìˆê³  ì—¬ëŸ¬ê°œì˜ Consumerë¥¼ ê°€ì§ˆ ìˆ˜ë„ ìˆìœ¼ë©°, Consumerê°€ Consumeí•˜ëŠ” ê²ƒìœ¼ë¡œ í• ë‹¹ëœ Queueì— ì €ì¥ëœ ë©”ì„¸ì§€ë¥¼ ë¹¼ë‚´ ì“¸ ìˆ˜ ìˆë‹¤. 

![ë ˆë¹—ì— í2](https://github.com/lcqff/lcqff.github.io/assets/71930280/ea84acfd-2f3c-422b-abaa-3630f34151d0)

| Direct | ë¼ìš°íŒ… í‚¤ê°€ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” Queueì— ë©”ì‹œì§€ ì „ì†¡ |
| Topic | ë¼ìš°íŒ… í‚¤ íŒ¨í„´ì´ ì¼ì¹˜í•˜ëŠ” Queueì— ë©”ì‹œì§€ ì „ì†¡ |
| Headers | [key:value]ë¡œ ì´ë£¨ì–´ì§„ headerê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ì¼ì¹˜í•˜ëŠ” Queueì— ë©”ì‹œì§€ ì „ì†¡ |
| Fanout | í•´ë‹¹ Exchangeì— ë“±ë¡ëœ ëª¨ë“  Queueì— ë©”ì‹œì§€ ì „ì†¡ |

ExchangerëŠ” ìœ„ì™€ ê°™ì€ 4ê°€ì§€ íƒ€ì…ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.

ëª©í‘œë¡œ í•˜ëŠ” Consumerê°€ ì–´ëŠ queueì™€ ì—°ê²°ë¼ìˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì„¸ì°¨ìƒˆì°¨ ì„œë¹„ìŠ¤ëŠ” **ëª¨ë“  íì— ë©”ì„¸ì§€ë¥¼ ì €ì¥**í•´ì•¼í•œë‹¤. ë”°ë¼ì„œ í•˜ë‚˜ì˜ Exchangerë¥¼ Fanout íƒ€ì…ìœ¼ë¡œ ì„¤ì •í•œ í›„ ëª¨ë“  Queueë¥¼ í•´ë‹¹ Exchangerì— ë°”ì¸ë”© ì‹œì¼°ë‹¤.

---

## ê°œë°œ

### RabbitMQ ì—°ê²°

RabbitMQëŠ” ë‹¤ìš´ë°›ì•„ì„œ ë¡œì»¬ì—ì„œë„ ì‘ë™ì‹œí‚¬ ìˆ˜ ìˆì§€ë§Œ CloudAMQPë¼ëŠ” ì‚¬ì´íŠ¸ì—ì„œ íšŒì›ê°€ì…ë§Œ ì§„í–‰í•˜ê³ , ì›¹ìƒì—ì„œ í™œìš©ë„ ê°€ëŠ¥í•˜ë‹¤ê³  í•œë‹¤.

ì„¸ì°¨ìƒˆì°¨ëŠ” AWSë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— AWSì—ì„œ ì œê³µí•˜ëŠ” **AmazonMQ**ë¥¼ í†µí•´ RabbitMQë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.

![ë ˆë¹—ì— í management](https://github.com/lcqff/lcqff.github.io/assets/71930280/f3bfc4f5-5bba-4223-8297-c1090043d69d)

<cap>RabbitMq Management í™”ë©´</cap><br>

```yaml
spring:
  rabbitmq:
    host: {broker ID}.mq.ap-northeast-2.amazonaws.com
    port: 5671
    username: {username}
    password: {password}
    virtual-host: /
    ssl:
      enabled: true

rabbitmq:
  queue:
    name: bizcall-cdr-inbound-call-dev
  exchange:
    name: bizcall-exchange-dev
```
<cap> application.yml </cap><br>
[Port ì„¤ì •](https://docs.aws.amazon.com/amazon-mq/latest/developer-guide/rabbitmq-basic-elements-broker.html)
> Listener portÂ `5671`Â - **Used for connections made via the secure AMQP URL**. For example, given a broker with broker IDÂ `b-c8352341-ec91-4a78-ad9c-a43f23d325bb`, deployed in theÂ `us-west-2`Â region, the following is the broker's fullÂ `amqp`Â URL:Â `b-c8352341-ec91-4a78-ad9c-a43f23d325bb.mq.us-west-2.amazonaws.com:5671`
> 

ë³´ì•ˆ AMQP ì—°ê²°ì„ ìœ„í•´ 5671ë²ˆ í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ì.

<br>

```java
@RequiredArgsConstructor
@Configuration
public class RabbitMqConfiguration {

	@Value("${rabbitmq.queue.name}")
	private String queueName;

	@Value("${rabbitmq.exchange.name}")
	private String exchangeName;

	@Bean
	public Queue queue() {
		return new Queue(queueName + "-" + UUID.randomUUID(), false, true, true);
	}

	@Bean
	public FanoutExchange fanoutExchange() {
		return new FanoutExchange(exchangeName);
	}

	@Bean
	public Binding binding(Queue queue, FanoutExchange exchange) {
		return BindingBuilder.bind(queue).to(exchange);
	}

	@Bean
	public MessageConverter jackson2JsonMessageConverter() {
		return new Jackson2JsonMessageConverter();
	}
}
```
<cap> configuration ì½”ë“œ </cap><br>
Configuration ì½”ë“œë¥¼ í†µí•´ Queueì™€ Exchangerì„ ìƒì„±í•˜ê³  ë°”ì¸ë”© í•´ì£¼ì—ˆë‹¤. ì½”ë“œë¡œ ì„¤ì •ì„ í•˜ê³  ì‹¤í–‰ì‹œí‚¤ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ìë™ìœ¼ë¡œ queueì™€ exchangerê°€ ìƒì„±ë˜ê³  ë°”ì¸ë”© ëœë‹¤.





- **Queue**
    - ì¸ìŠ¤í„´ìŠ¤ë³„ë¡œ ëœë¤í•˜ê²Œ í ì´ë¦„ì„ ì§€ì–´ì£¼ê¸° ìœ„í•´ì„œ UUID ê°’ì„ ì§€ì •í•´ì£¼ì—ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ fanoutì´ ë˜ì§€ ì•ŠëŠ”ë‹¤ê³  ë¦¬ë·°ê°€ ë‹¬ë ¸ìœ¼ë‚˜ ì§ì ‘ í™•ì¸í•´ë³´ì§„ ì•Šì•˜ë‹¤(ã…ã…..)  
    
- **Binding**
    - Exchangerë¥¼ Fanout ì†ì„±ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë°”ì¸ë”© ì½”ë“œì—ì„œ withë¥¼ í†µí•œ ë¼ìš°íŒ… í‚¤ ì„¤ì •ì€ ì œì™¸í–ˆë‹¤.
    <img src="https://github.com/lcqff/lcqff.github.io/assets/71930280/24584ef0-908b-4251-8557-955d40ba3639"/><br>
    <cap>https://www.rabbitmq.com/tutorials/tutorial-four-spring-amqp#bindings</cap><br>
    
- **jackson2JsonMessageConverter**
    - RabbitMqTemplateì—ì„œ ì‚¬ìš©í•˜ëŠ” MessageConverterë¥¼ `jackson2JsonMessageConverter`ë¡œ êµí™˜í•´ì£¼ì—ˆë‹¤. 
    - ê¸°ë³¸ì ìœ¼ë¡œëŠ” `SimpleMessageConverter`ì„ ì‚¬ìš©í•˜ë„ë¡ ì„¤ì •ë¼ìˆë‚˜ `SimpleMessageConverter`ëŠ” **String** inputì„ ë°›ê¸° ë•Œë¬¸ì— ì „ì†¡í•  ë©”ì„¸ì§€ë¥¼ Stringìœ¼ë¡œ ë³€í™˜í•´ì£¼ì–´ì•¼ í•˜ëŠ” ë²ˆê±°ë¡œì›€ì´ ìˆë‹¤.    
    ê·¸ëŸ¬ë‚˜ `jackson2JsonMessageConverter`ëŠ” **Object** íƒ€ì…ì˜ inputì„ ë°›ê¸° ë•Œë¬¸ì— ë”°ë¡œ ë³€í™˜í•  í•„ìš”ê°€ ì—†ê³ , outputê°’ì„ Json messageë¡œ ë½‘ì•„ì£¼ê¸° ë•Œë¬¸ì— ì‚¬ìš©ì— ë” ìš©ì´í•˜ë‹¤.

#### ì—ëŸ¬ ë°œìƒ

{: .box-error}
> inequivalent arg 'type' for exchange 'bizcall-exchange' in vhost '/': received 'fanout' but current is 'direct', class-id=40, method-id=10)


ì„¤ì • ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  íì™€ exchanger ìƒì„±ì„ ìœ„í•´ í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰ì‹œí‚¤ë‹ˆ ìœ„ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤. 

![exchager](https://github.com/lcqff/lcqff.github.io/assets/71930280/5d15ba4e-361c-4ba4-bde8-ba24c8a8f31d)

ì´ì œë³´ë‹ˆ ê¸°ì¡´ì— ì¡´ì¬í•˜ë˜ 'bizcall-exchange' ê°€ directë¡œ ìƒì„±ë¼ìˆì—ˆë‹¤. ì‚­ì œí•´ì£¼ì.

![exchanger2](https://github.com/lcqff/lcqff.github.io/assets/71930280/88ce7ef8-bca4-4d9e-8122-9f764053a5ab)


ì‚­ì œí›„ í”„ë¡œì íŠ¸ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ë‹ˆ fanoutìœ¼ë¡œ ì˜ ìƒì„± ë˜ì—ˆë‹¤.

![ë°”ì¸ë”© í™•ì¸](https://github.com/lcqff/lcqff.github.io/assets/71930280/803d6573-5ded-4acd-b462-93bd7f0adebd)


íë„ exchangeì— ì •ìƒì ìœ¼ë¡œ bindingëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

### ì½”ë“œ ì‘ì„±

```java
@Slf4j
@RequiredArgsConstructor
@Service
public class CallRabbitMqService {

	private final RabbitTemplate rabbitTemplate;

	private final CallWebSocketService callWebSocketService;
	private final StoreRepository storeRepository;

	@Value("${rabbitmq.exchange.name}")
	private String exchangeName;

	public void sendMessage(RabbitMqMessageDto messageDto) {
		try {
			log.info("RabbitMqMessage SEND: {} to exchanger {}", messageDto.toString(), exchangeName);
			rabbitTemplate.convertAndSend(exchangeName, "", messageDto);
		}  catch (Exception exception) {
			log.error(exception.toString());
			throw new ApplicationException(ApplicationError.RABBITMQ_CONNECTION_ERROR);
		}
	}

	@RabbitListener(queues = "#{queue.name}")
	public void receiveMessage(RabbitMqMessageDto messageDto) {
		log.info("RabbitMqMessage RECEIVED: {}", messageDto.toString());
		try {
			//ì›¹ì†Œì¼“ ì„¤ì • ì½”ë“œ ì‘ì„±
			callWebSocketService.sendMessage(topicPath, messageDto);
		} catch (Exception exception) {
			log.error("RabbitMqMessage Handling Error");
		}
	}
}
```

![ë¡œê·¸](https://github.com/lcqff/lcqff.github.io/assets/71930280/54228cd2-18c0-4e38-9085-e3240010b51c)
<cap>ì‹¤í–‰ì‹œ ë¡œê·¸ ì •ë³´</cap>

<br>

![í](https://github.com/lcqff/lcqff.github.io/assets/71930280/39fd1ab5-607d-4c85-a7b4-e206058b0ebe)
<cap>ì •ìƒì ìœ¼ë¡œ íì— ë©”ì„¸ì§€ê°€ ì „ë‹¬ & ì»¨ìŠ˜ëìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</cap> <br>

postmanìœ¼ë¡œ ì§ì ‘ apië¥¼ í˜¸ì¶œí•´ë³¸ ê²°ê³¼ ì •ìƒì ìœ¼ë¡œ queueì— ì „ë‹¬ë˜ì—ˆìŒì„ í™•ì¸í–ˆë‹¤.

(ìœ„ ìŠ¤í¬ë¦°ìƒ·ì„ ì°ì—ˆì„ ë•ŒëŠ” `listener.simple.acknowledge-mode`ê°€ `manual` ë¡œ ì„¤ì •ë˜ì–´ ìˆì–´ ì—ëŸ¬ ë°œìƒ ì—¬ë¶€ì™€ ë¬´ê´€í•˜ê²Œ Unackedë¡œ ì²˜ë¦¬ë˜ì—ˆë‹¤.)

<br>

ê¸€ì´ ê¸¸ì–´ì ¸ì„œ TTL, dlx ì„¤ì •ì€ ë‹¤ìŒ ê²Œì‹œê¸€ë¡œ ì´ì–´ì„œ ì‘ì„±í•´ì•¼ê² ë‹¤~

<br>

ë‹¤ìŒ ê²Œì‹œê¸€: [ì„¸ì°¨ìƒˆì°¨ ë¹„ì¦ˆì½œ ì„œë¹„ìŠ¤ ê°œë°œ (2) -RabbitMQ TTL, DLX, Retry ì ìš©](https://lcqff.github.io/%EC%84%B8%EC%B0%A8%EC%83%88%EC%B0%A8/2024/06/22/rabbitmq2.html)

---

> ë°°ìš´ ì : ë§Œë“¤ê³  ì‹¶ì€ ê°œì¸ í”„ë¡œì íŠ¸ì— ìœ ì‚¬ ë©”ì„¸ì§€ ì‹œìŠ¤í…œì´ í¬í•¨ë ê±° ê°™ì€ë°(ì–¸ì œ ë§Œë“¤ì–´ ì´ê±°ã… ) RabbitMQì„ í†µí•´ ì„ í–‰í•™ìŠµì˜ ê¸°íšŒë¥¼ ì–»ì—ˆì„ì§€ë„â€¦.